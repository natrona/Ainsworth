<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ainsworth English Academy ‚Äî Meus Cursos</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root{
      --bg1:#fff7fb;
      --bg2:#f7fbff;
      --accent-1: #ffb6c1;
      --accent-2: #f6d365;
      --accent-3: #cbd5ff;
      --btn-primary: #4a6fa5;
      --btn-primary-hover: #3a5a8c;
      --muted:#6b7280;
      --glass: rgba(255,255,255,0.06);
      --radius: 9999px;
      color-scheme: light;
    }
    
    [data-theme="dark"] {
      --bg1: #0b1221;
      --bg2: #1a1f2e;
      --accent-1: #ff8fa3;
      --accent-2: #ffd27a;
      --accent-3: #8b9dff;
      --btn-primary: #5a8bd6;
      --btn-primary-hover: #4a7bc6;
      --muted: #a0aec0;
      color-scheme: dark;
    }
    
    *{box-sizing:border-box}
    html,body{height:100%}
    html,body{max-width:100%;overflow-x:hidden!important}
    body{
      margin:0;
      font-family: 'Quicksand', 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background: linear-gradient(120deg,var(--bg1),var(--bg2));
      overflow-x:hidden;
      color:#0b1221;
      line-height:1.35;
      position: relative;
      transition: background 0.5s ease;
    }

    [data-theme="dark"] body {
      color: #ffffff;
    }

    html::-webkit-scrollbar,
    body::-webkit-scrollbar {
      display: none;
      width: 0;
    }

    html {
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .blob{position:fixed;pointer-events:none;filter:blur(40px);opacity:0.9;mix-blend-mode:soft-light}
    .blob.one{width:480px;height:480px;left:-8%;top:-12%;background:radial-gradient(circle at 30% 30%, var(--accent-1), transparent 40%);} 
    .blob.two{width:560px;height:560px;right:-12%;bottom:-8%;background:radial-gradient(circle at 50% 50%, var(--accent-3), transparent 35%);} 
    .blob.three{width:360px;height:360px;left:10%;bottom:-6%;background:radial-gradient(circle at 20% 80%, var(--accent-2), transparent 45%);} 
    @keyframes floaty{0%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-18px) rotate(6deg)}100%{transform:translateY(0) rotate(0deg)}}
    .blob{animation:floaty 9s ease-in-out infinite}

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(12px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-in {
      animation: fadeInUp 0.4s ease-out forwards;
      opacity: 0;
    }

    .fade-in.delay-1 { animation-delay: 0.1s; }
    .fade-in.delay-2 { animation-delay: 0.2s; }
    .fade-in.delay-3 { animation-delay: 0.3s; }
    .fade-in.delay-4 { animation-delay: 0.4s; }

    .progress-ring {
      transform: rotate(-90deg);
    }

    .progress-ring-circle {
      transition: stroke-dashoffset 1.2s cubic-bezier(0.4, 0, 0.2, 1);
      stroke-linecap: round;
    }

    header{
      display:flex;align-items:center;gap:14px;padding:20px 22px;position:relative;z-index:40;
      background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      backdrop-filter: blur(6px) saturate(120%);
      -webkit-backdrop-filter: blur(6px) saturate(120%);
      border-radius:28px; margin:18px 22px; box-shadow:0 6px 30px rgba(11,17,33,0.04);
      transition: all 0.3s ease;
    }

    [data-theme="dark"] header {
      box-shadow: 0 6px 30px rgba(0,0,0,0.2);
    }

    .logo{
      font-weight:800;font-size:18px;letter-spacing:0.6px;display:flex;align-items:center;gap:12px;
    }
    .logo .mark {
      width:52px;height:52px;border-radius:50%;display:inline-grid;place-items:center;font-weight:900;color:white;font-size:20px;
      background: linear-gradient(135deg, #4a6fa5, #3a5a8c);
      box-shadow:0 8px 26px rgba(11,17,33,0.06);
      transition: transform 0.3s ease;position:relative;
      letter-spacing: 1px;
      overflow: hidden;
    }

    .logo .mark::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.3) 50%, transparent 60%);
      animation: logoShine 3s infinite linear;
    }

    @keyframes logoShine {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .logo .mark .logo-initials {
      font-size: 20px;
      font-weight: 900;
      color: white;
      letter-spacing: 1px;
      position: relative;
      z-index: 2;
    }

    .logo .mark:hover {
      transform: rotate(5deg) scale(1.05);
    }

    .search{flex:1;max-width:540px;display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:9999px;background:rgba(255,255,255,0.06);border:1px solid rgba(11,17,33,0.03);transition: all 0.3s ease;}
    .search:focus-within {
      border-color: var(--accent-1);
      box-shadow: 0 0 0 2px rgba(255,182,193,0.2);
    }
    .search input{flex:1;border:0;background:transparent;outline:none;font-weight:600;padding:6px;font-size:14px;color:inherit;}
    .search .icon{width:20px;height:20px;display:inline-grid;place-items:center;opacity:0.95}

    .actions{display:flex;align-items:center;gap:10px;margin-left:auto}
    .nav-btn{background:transparent;border:0;padding:8px 12px;border-radius:9999px;font-weight:700;cursor:pointer;transition:transform .18s ease,opacity .15s ease}
    .nav-btn:hover{transform:translateY(-4px)}

    .hamburger{display:none;border:0;background:transparent;width:44px;height:44px;border-radius:50%;display:grid;place-items:center;cursor:pointer;transition: all 0.3s ease;}
    .hamburger:hover {
      background: rgba(255,182,193,0.1);
    }

    .notif{position:relative;padding:8px;border-radius:9999px;display:grid;place-items:center}
    .notif .dot{position:absolute;right:8px;top:6px;width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,#ff6b9a,#ffd27a);box-shadow:0 4px 12px rgba(255,107,154,0.22)}

    .user{display:flex;align-items:center;gap:10px;cursor:pointer;padding:6px 8px;border-radius:9999px;transition: all 0.3s ease;}
    .user:hover {
      background: rgba(255,182,193,0.1);
    }
    .user .name{font-weight:700}
    .dropdown{position:absolute;right:22px;top:78px;min-width:180px;padding:8px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(250,250,252,0.98));box-shadow:0 8px 26px rgba(11,17,33,0.08);display:none;flex-direction:column;gap:8px;z-index:100;}
    [data-theme="dark"] .dropdown {
      background: linear-gradient(180deg, rgba(27, 32, 44, 0.98), rgba(20, 25, 36, 0.98));
    }
    .dropdown a{padding:8px;border-radius:10px;font-weight:700;color:#0b1221;text-decoration:none;transition:all 0.2s ease;transform: translateX(0);}
    [data-theme="dark"] .dropdown a {
      color: #ffffff;
    }
    .dropdown a:hover{background:linear-gradient(135deg, rgba(255,182,193,0.1), rgba(246,211,101,0.1));transform: translateX(4px);}

    @media (max-width:980px){
      .search{max-width:360px}
      .nav-btn{display:none}
      .hamburger{display:grid}
    }
    @media (max-width:600px){
      header{margin:12px 12px;padding:12px}
      .logo .mark{width:44px;height:44px;font-size:16px}
      .logo div{display:flex; flex-direction:column}
      .logo div div:first-child{font-size:12px}
      .logo div div:last-child{font-size:9px; margin-top:1px}
      .search{display:none}
      .user .name{display:none}
      .dropdown{right:12px;top:72px}
    }
    .nav-btn{background:transparent;border:0;padding:8px 12px;border-radius:9999px;font-weight:600;cursor:pointer;transition:transform .18s ease,opacity .15s ease}
    .nav-btn:hover{transform:translateY(-4px)}

    .mobile-nav {
      position: fixed;
      top: 0;
      left: -100%;
      width: 280px;
      height: 100%;
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,252,0.98));
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      z-index: 1000;
      padding: 24px;
      transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 20px 0 60px rgba(11,17,33,0.1);
      display: flex;
      flex-direction: column;
    }

    [data-theme="dark"] .mobile-nav {
      background: linear-gradient(180deg, rgba(27, 32, 44, 0.98), rgba(20, 25, 36, 0.98));
    }

    .mobile-nav.active {
      left: 0;
    }

    .mobile-nav-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(11,17,33,0.4);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
    }

    .mobile-nav-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .mobile-nav-header {
      display: flex;
      justify-content: flex-end;
      padding-bottom: 24px;
    }

    .mobile-nav-close {
      background: transparent;
      border: none;
      width: 36px;
      height: 36px;
      display: grid;
      place-items: center;
      cursor: pointer;
      color: #0b1221;
      opacity: 0.7;
      transition: all 0.2s ease;
      border-radius: 50%;
    }

    [data-theme="dark"] .mobile-nav-close {
      color: #ffffff;
    }

    .mobile-nav-close:hover {
      opacity: 1;
      transform: rotate(90deg);
      background: rgba(255,182,193,0.1);
    }

    .mobile-nav nav {
      display: flex;
      flex-direction: column;
      gap: 6px;
      flex: 1;
      padding-top: 20px;
    }

    .mobile-nav a {
      padding: 14px 16px;
      border-radius: 14px;
      font-weight: 700;
      color: #0b1221;
      text-decoration: none;
      transition: all 0.2s ease;
      transform: translateX(0);
    }

    [data-theme="dark"] .mobile-nav a {
      color: #ffffff;
    }

    .mobile-nav a:hover {
      background: linear-gradient(135deg, rgba(255,182,193,0.1), rgba(246,211,101,0.1));
      transform: translateX(4px);
    }

    main{padding:10px 28px 80px;max-width:1200px;margin:0 auto;}

    .welcome{padding:10px 8px}
    .greeting{font-size:28px;font-weight:700;margin:6px 0}
    .sub{color:var(--muted);margin-top:6px;font-size:14px}

    .stats{display:flex;gap:12px;margin:22px 0;flex-wrap:wrap}
    .stat{flex:1 1 160px;min-width:140px;padding:8px 10px;border-radius:22px;display:flex;flex-direction:column;gap:8px;align-items:flex-start;transition: all 0.3s ease;transform: translateY(0);}
    .stat:hover {
      transform: translateY(-2px);
      background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    }
    .stat .label{font-size:12px;color:var(--muted);font-weight:600}
    .stat .value{font-size:18px;font-weight:700}
    .progress{width:100%;height:10px;border-radius:9999px;background:linear-gradient(90deg, rgba(0,0,0,0.05), rgba(0,0,0,0.02));overflow:hidden}
    [data-theme="dark"] .progress {
      background: linear-gradient(90deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    }
    .progress > span{display:block;height:100%;border-radius:9999px;width:0%;transition:width 1.2s cubic-bezier(.2,.9,.2,1)}

    .courses-section {
      margin-top: 40px;
    }

    .section-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding: 0 8px;
    }

    .section-title h3 {
      font-size: 20px;
      font-weight: 700;
      margin: 0;
      color: #0b1221;
    }

    [data-theme="dark"] .section-title h3 {
      color: #ffffff;
    }

    .view-all {
      font-size: 14px;
      font-weight: 600;
      color: var(--accent-1);
      text-decoration: none;
      padding: 8px 16px;
      border-radius: 9999px;
      transition: all 0.2s ease;
      background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.15);
      transform: translateY(0);
    }

    .view-all:hover {
      background: linear-gradient(135deg, rgba(255,182,193,0.2), rgba(246,211,101,0.2));
      transform: translateY(-2px);
      border-color: rgba(255,182,193,0.3);
    }

    .courses-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      padding: 8px 4px 32px 4px;
    }

    @media (max-width: 768px) {
      .courses-grid {
        grid-template-columns: 1fr;
        padding: 8px 0 32px 0;
      }
    }

    .course-card {
      padding: 28px;
      border-radius: 28px;
      position: relative;
      overflow: hidden;
      transition: transform 0.3s ease;
      cursor: pointer;
      min-height: 200px;
      display: flex;
      flex-direction: column;
    }

    .course-card:hover {
      transform: translateY(-6px) scale(1.02);
    }

    .course-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.1));
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-radius: 28px;
      z-index: -1;
      border: 1px solid rgba(255,255,255,0.35);
    }

    .course-level {
      font-size: 36px;
      font-weight: 800;
      line-height: 1;
      margin-bottom: 12px;
      background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .course-difficulty {
      font-size: 13px;
      font-weight: 700;
      padding: 6px 14px;
      border-radius: 9999px;
      background: linear-gradient(135deg, rgba(255,255,255,0.4), rgba(255,255,255,0.2));
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      margin-bottom: 16px;
      display: inline-block;
      width: fit-content;
      transition: all 0.3s ease;
    }

    .course-difficulty:hover {
      transform: scale(1.05);
    }

    .course-card h4 {
      font-size: 20px;
      font-weight: 700;
      margin: 0 0 12px 0;
      color: #0b1221;
      line-height: 1.3;
    }

    [data-theme="dark"] .course-card h4 {
      color: #ffffff;
    }

    .course-card p {
      font-size: 15px;
      color: var(--muted);
      margin: 0 0 20px 0;
      line-height: 1.5;
      flex-grow: 1;
    }

    .course-progress {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: auto;
    }

    .course-progress .label {
      font-size: 13px;
      color: var(--muted);
      font-weight: 600;
    }

    .course-progress .value {
      font-size: 18px;
      font-weight: 700;
      color: #0b1221;
    }

    [data-theme="dark"] .course-progress .value {
      color: #ffffff;
    }

    .progress-ring-container {
      width: 48px;
      height: 48px;
      position: relative;
    }

    .progress-ring-bg {
      fill: none;
      stroke: rgba(0,0,0,0.08);
    }

    [data-theme="dark"] .progress-ring-bg {
      stroke: rgba(255,255,255,0.1);
    }

    .progress-ring-fill {
      fill: none;
      stroke-width: 4;
      stroke-linecap: round;
      stroke: var(--accent-1);
    }

    .course-details {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid rgba(11,17,33,0.08);
    }

    [data-theme="dark"] .course-details {
      border-top: 1px solid rgba(255,255,255,0.08);
    }

    .course-detail-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: var(--muted);
    }

    .course-detail-item svg {
      width: 14px;
      height: 14px;
    }

    .course-actions {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }

    .course-btn {
      padding: 12px 20px;
      border-radius: 9999px;
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      flex: 1;
      text-align: center;
      transform: translateY(0);
    }

    .course-btn.primary {
      background: var(--accent-1);
      color: white;
    }

    .course-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255,182,193,0.3);
      background: #ff8fa3;
    }

    .course-btn.secondary {
      background: transparent;
      border: 2px solid var(--accent-1);
      color: var(--accent-1);
    }

    .course-btn.secondary:hover {
      background: rgba(255,182,193,0.1);
      transform: translateY(-2px);
    }

    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 20px;
      text-align: center;
      grid-column: 1 / -1;
    }

    .empty-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255,182,193,0.1), rgba(203,213,255,0.1));
      display: grid;
      place-items: center;
      margin-bottom: 20px;
    }

    .empty-icon svg {
      width: 32px;
      height: 32px;
      stroke: var(--accent-1);
    }

    .empty-state h4 {
      font-size: 20px;
      font-weight: 700;
      margin: 0 0 12px 0;
      color: #0b1221;
    }

    [data-theme="dark"] .empty-state h4 {
      color: #ffffff;
    }

    .empty-state p {
      font-size: 15px;
      color: var(--muted);
      margin-bottom: 24px;
      max-width: 400px;
    }

    .filter-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      padding: 0 8px;
      overflow-x: auto;
      scrollbar-width: none;
    }

    .filter-tabs::-webkit-scrollbar {
      display: none;
    }

    .filter-tab {
      padding: 8px 16px;
      border-radius: 9999px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      white-space: nowrap;
      background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.15);
      color: var(--muted);
    }

    .filter-tab.active {
      background: linear-gradient(135deg, rgba(255,182,193,0.2), rgba(246,211,101,0.2));
      color: #0b1221;
      border-color: rgba(255,182,193,0.3);
    }

    [data-theme="dark"] .filter-tab.active {
      color: #ffffff;
    }

    .filter-tab:hover:not(.active) {
      background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.1));
    }

    @media (max-width: 600px){
      header{padding:16px}
      .logo .mark{width:40px;height:40px;font-size:16px}
      .greeting{font-size:20px}
      .sub{font-size:13px}
      .stat{min-width:120px}
      body{font-size:15px}
      
      .course-card {
        padding: 20px;
      }
      
      .course-level {
        font-size: 32px;
      }
      
      .course-card h4 {
        font-size: 18px;
      }
      
      .course-card p {
        font-size: 14px;
      }
      
      main {
        padding: 0 12px 40px;
      }
      
      .courses-section {
        margin-top: 30px;
      }
      
      .section-title h3 {
        font-size: 18px;
      }
    }

    .pulse{animation:pulse 2.6s infinite}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}

    a{color:inherit;text-decoration:none}
    .muted{color:var(--muted);}

    .notification-dot {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: linear-gradient(135deg, #FF6B9A, #FFD27A);
      box-shadow: 0 2px 6px rgba(255,107,154,0.4);
    }

    .subscribe-btn-minimal {
      padding: 14px 28px;
      border-radius: 9999px;
      background: transparent;
      color: var(--accent-1);
      font-weight: 700;
      font-size: 15px;
      border: 2px solid var(--accent-1);
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      min-width: 180px;
      text-align: center;
      transform: translateY(0);
      font-family: 'Quicksand', sans-serif;
    }

    .subscribe-btn-minimal:hover {
      background: var(--accent-1);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255,182,193,0.3);
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 26px;
    }
    
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 34px;
    }
    
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    
    input:checked + .slider {
      background-color: var(--accent-1);
    }
    
    input:checked + .slider:before {
      transform: translateX(24px);
    }

    .custom-popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(11,17,33,0.8);
      z-index: 2000;
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .custom-popup-overlay.active {
      display: flex;
    }

    .custom-popup {
      background: linear-gradient(120deg, var(--bg1), var(--bg2));
      border-radius: 28px;
      max-width: 400px;
      width: 100%;
      border: 1px solid rgba(255,255,255,0.2);
      box-shadow: 0 20px 60px rgba(11,17,33,0.2);
      overflow: hidden;
      animation: popupIn 0.3s ease-out;
    }

    @keyframes popupIn {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .custom-popup-header {
      padding: 24px;
      text-align: center;
      border-bottom: 1px solid rgba(11,17,33,0.08);
    }

    [data-theme="dark"] .custom-popup-header {
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }

    .custom-popup-header h3 {
      margin: 0;
      font-size: 18px;
      color: #0b1221;
    }

    [data-theme="dark"] .custom-popup-header h3 {
      color: #ffffff;
    }

    .custom-popup-body {
      padding: 24px;
      text-align: center;
    }

    .custom-popup-body p {
      color: var(--muted);
      margin-bottom: 24px;
      line-height: 1.5;
    }

    .custom-popup-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    .custom-popup-btn {
      padding: 12px 24px;
      border-radius: 9999px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      font-size: 14px;
      min-width: 100px;
      transform: translateY(0);
      transition: transform 0.2s ease, background-color 0.3s ease;
    }

    .custom-popup-btn:hover {
      transform: translateY(-2px);
    }

    .custom-popup-btn.primary {
      background: var(--accent-1);
      color: white;
    }

    .custom-popup-btn.secondary {
      background: transparent;
      border: 2px solid var(--accent-1);
      color: var(--accent-1);
    }

    .avatar-img {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
      object-position: center;
    }

    .dropdown a[onclick*="Messages"] {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .dropdown a[onclick*="Messages"] .notification-dot {
      position: relative;
      top: 0;
      right: 0;
      margin-left: 8px;
    }

    .logout-btn {
      width:100%; 
      margin-top: 24px; 
      padding: 16px; 
      border-radius: 28px; 
      background: #3a5a8c;
      border: none;
      color: white;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      transform: translateY(0);
      letter-spacing: 0.5px;
    }

    [data-theme="dark"] .logout-btn {
      background: #4a7bc6;
      color: #ffffff;
    }

    .logout-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(58, 90, 140, 0.3);
      background: #2a4a7c;
    }

    [data-theme="dark"] .logout-btn:hover {
      box-shadow: 0 6px 20px rgba(74, 123, 198, 0.3);
      background: #3a6bb6;
    }

  </style>
</head>
<body>
  <div class="blob one"></div>
  <div class="blob two"></div>
  <div class="blob three"></div>

  <div class="custom-popup-overlay" id="customPopup">
    <div class="custom-popup">
      <div class="custom-popup-header">
        <h3 id="popupTitle">Confirma√ß√£o</h3>
      </div>
      <div class="custom-popup-body">
        <p id="popupMessage">Tem certeza que deseja continuar?</p>
        <div class="custom-popup-actions">
          <button class="custom-popup-btn primary" id="popupConfirm">Confirmar</button>
          <button class="custom-popup-btn secondary" id="popupCancel">Cancelar</button>
        </div>
      </div>
    </div>
  </div>

  <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
  <div class="mobile-nav" id="mobileNav">
    <div class="mobile-nav-header">
      <button class="mobile-nav-close" onclick="closeMobileNav()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    <nav>
      <a href="dashboard.html" onclick="closeMobileNav()">Dashboard</a>
      <a href="#" onclick="closeMobileNav()" style="background: linear-gradient(135deg, rgba(255,182,193,0.1), rgba(246,211,101,0.1)); color: var(--accent-1);">Meus Cursos</a>
      <a href="#" onclick="openExternalResource('https://ainsworth.academy/explorar'); closeMobileNav();">Explorar</a>
      <a href="#" onclick="openExternalResource('https://ainsworth.academy/exercicios'); closeMobileNav();">Exerc√≠cios</a>
      <a href="#" onclick="openExternalResource('https://ainsworth.academy/progresso'); closeMobileNav();">Estat√≠sticas</a>
      <a href="#" onclick="showCustomConfirm('Sair', 'Tem certeza que deseja sair?', function(){closeMobileNav(); window.location.href = 'login.html';})" style="color: #ff6b6b; margin-top: 20px;">Sair</a>
    </nav>
  </div>

  <header>
    <button class="hamburger" aria-label="Abrir menu" onclick="openMobileNav()">
      <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="18" height="2" rx="1" fill="currentColor"/><rect y="6" width="18" height="2" rx="1" fill="currentColor"/><rect y="12" width="18" height="2" rx="1" fill="currentColor"/></svg>
    </button>
    <div class="logo" aria-hidden>
      <div class="mark" id="logoMark">
        <span class="logo-initials">AE</span>
      </div>
      <div>
        <div style="font-size:14px;opacity:0.98">Ainsworth</div>
        <div style="font-size:11px;color:var(--muted);margin-top:2px">English Academy</div>
      </div>
    </div>

    <div class="search" role="search" aria-label="Pesquisar cursos">
      <div class="icon" aria-hidden>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden focusable="false" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <input placeholder="Pesquisar meus cursos..." aria-label="Pesquisar" id="searchInput" />
      <button class="nav-btn" title="Pesquisar" onclick="searchCourses()">Ir</button>
    </div>

    <div class="actions">
      <button class="nav-btn" onclick="window.location.href='dashboard.html'">Dashboard</button>
      <button class="nav-btn" onclick="openExternalResource('https://ainsworth.academy/explorar')">Explorar</button>
      <button class="nav-btn" onclick="openExternalResource('https://ainsworth.academy/exercicios')">Exerc√≠cios</button>
      <button class="nav-btn" onclick="openExternalResource('https://ainsworth.academy/progresso')">Estat√≠sticas</button>

      <div class="notif" aria-hidden style="position: relative;">
        <button class="nav-btn" title="Notifica√ß√µes" aria-label="Notifica√ß√µes" onclick="openMessages()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden focusable="false" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 17H9" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18 8a6 6 0 10-12 0c0 7-3 8-3 8h18s-3-1-3-8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="dot" aria-hidden></div>
      </div>

      <div class="user" id="userToggle" onclick="toggleUserMenu()" role="button" aria-haspopup="true" aria-expanded="false">
        <div class="avatar" id="headerAvatar" style="width:44px;height:44px;border-radius:50%;display:grid;place-items:center;font-weight:700;color:white;background:linear-gradient(135deg,var(--accent-2),var(--accent-1));font-size:16px;overflow:hidden">
          <span id="headerAvatarText">J</span>
        </div>
        <div class="name">Jonhantann</div>
      </div>

      <div class="dropdown" id="userMenu" aria-label="Menu do usu√°rio">
        <a href="#" onclick="openProfile()">Perfil</a>
        <a href="#" onclick="openMessages()">
          Mensagens
          <div class="notification-dot" style="display: block; position: relative; top: 2px; margin-left: 8px;"></div>
        </a>
        <a href="#" onclick="openSettings()">Configura√ß√µes</a>
        <a href="#" style="color: #ff6b6b;" onclick="showCustomConfirm('Sair da Conta', 'Tem certeza que deseja sair da sua conta?', logout)">Sair</a>
      </div>
    </div>
  </header>

  <main>
    <section class="welcome fade-in">
      <div class="greeting">Meus Cursos</div>
      <div class="sub">Acompanhe seu progresso em todos os cursos que voc√™ iniciou</div>

      <div class="stats fade-in delay-1">
        <div class="stat" aria-hidden>
          <div class="label">Cursos Ativos</div>
          <div class="value"><span id="active-courses">0</span></div>
          <div class="progress" aria-hidden><span style="width:0%"></span></div>
        </div>

        <div class="stat">
          <div class="label">Progresso M√©dio</div>
          <div class="value" id="average-progress">0%</div>
          <div class="progress" aria-hidden><span style="width:0%"></span></div>
        </div>

        <div class="stat">
          <div class="label">Aulas Conclu√≠das</div>
          <div class="value" id="completed-lessons">0</div>
          <div class="progress" aria-hidden><span style="width:0%"></span></div>
        </div>

        <div class="stat">
          <div class="label">Tempo de Estudo</div>
          <div class="value" id="study-time">0h 0m</div>
          <div class="progress" aria-hidden><span style="width:0%"></span></div>
        </div>
      </div>
    </section>

    <div class="filter-tabs fade-in delay-2">
      <div class="filter-tab active" onclick="filterCourses('all')">Todos</div>
      <div class="filter-tab" onclick="filterCourses('active')">Em Andamento</div>
      <div class="filter-tab" onclick="filterCourses('completed')">Conclu√≠dos</div>
      <div class="filter-tab" onclick="filterCourses('favorites')">Favoritos</div>
      <div class="filter-tab" onclick="filterCourses('recent')">Recentes</div>
    </div>

    <section class="courses-section fade-in delay-3">
      <div class="section-title">
        <h3>Meus Cursos Ativos</h3>
        <a href="explore-courses.html" class="view-all">Explorar Novos Cursos</a>
      </div>
      
      <div class="courses-grid" id="coursesGrid">
        <!-- Os cursos ser√£o carregados dinamicamente via JavaScript -->
      </div>
      
      <div class="empty-state" id="emptyState" style="display: none;">
        <div class="empty-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 15V12M12 12V9M12 12H15M12 12H9M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h4>Nenhum curso encontrado</h4>
        <p>Voc√™ ainda n√£o iniciou nenhum curso ou n√£o h√° cursos correspondentes ao filtro selecionado.</p>
        <button class="subscribe-btn-minimal" onclick="window.location.href='explore-courses.html'">
          Explorar Cursos
        </button>
      </div>
    </section>
  </main>

  <script>
    // ====================
    // FUN√á√ïES PRINCIPAIS
    // ====================
    
    let isDarkMode = false;
    let activeFilter = 'all';
    let popupCallback = null;
    
    document.addEventListener('DOMContentLoaded', () => {
      setupDarkMode();
      loadUserData();
      loadProfilePicture();
      loadMyCourses();
      setupSearch();
      setupCustomPopup();
      
      setTimeout(() => {
        updateProgressRings();
      }, 500);
      
      setTimeout(() => {
        filterCourses('active');
        document.querySelector('.filter-tab.active').classList.remove('active');
        document.querySelector('.filter-tab:nth-child(2)').classList.add('active');
      }, 100);
    });

    function setupDarkMode() {
      const savedTheme = localStorage.getItem('ainsworth_theme');
      const currentHour = new Date().getHours();
      
      if (savedTheme) {
        isDarkMode = savedTheme === 'dark';
        applyTheme(isDarkMode);
      } else {
        isDarkMode = currentHour >= 18 || currentHour < 6;
        applyTheme(isDarkMode);
        localStorage.setItem('ainsworth_theme', isDarkMode ? 'dark' : 'light');
      }
    }
    
    function applyTheme(dark) {
      if (dark) {
        document.documentElement.setAttribute('data-theme', 'dark');
        isDarkMode = true;
      } else {
        document.documentElement.removeAttribute('data-theme');
        isDarkMode = false;
      }
    }
    
    function loadUserData() {
      const nickname = localStorage.getItem('ainsworth_user_nickname') || 'Estudante';
      document.querySelector('.user .name').textContent = nickname;
      document.getElementById('greetingName').textContent = nickname;
      
      const firstLetter = nickname.charAt(0).toUpperCase();
      document.getElementById('headerAvatarText').textContent = firstLetter;
    }
    
    function loadProfilePicture() {
      const imageData = localStorage.getItem('ainsworth_profile_picture');
      if (imageData) {
        const headerAvatar = document.getElementById('headerAvatar');
        headerAvatar.innerHTML = '';
        const img = document.createElement('img');
        img.src = imageData;
        img.className = 'avatar-img';
        headerAvatar.appendChild(img);
        
        const avatarText = document.getElementById('headerAvatarText');
        avatarText.style.display = 'none';
      }
    }
    
    function loadMyCourses() {
      const savedCourses = localStorage.getItem('ainsworth_my_courses');
      const coursesGrid = document.getElementById('coursesGrid');
      coursesGrid.innerHTML = '';
      
      let myCourses = [];
      let activeCount = 0;
      let totalProgress = 0;
      let completedLessons = 0;
      let totalStudyTime = 0;
      
      if (savedCourses) {
        myCourses = JSON.parse(savedCourses);
        
        myCourses.forEach(course => {
          if (course.status === 'active' || course.status === 'completed') {
            activeCount++;
            totalProgress += course.progress;
            completedLessons += course.lessonsCompleted || 0;
            totalStudyTime += course.timeSpent || 0;
            
            const courseCard = createCourseCard(course);
            coursesGrid.appendChild(courseCard);
          }
        });
      }
      
      document.getElementById('active-courses').textContent = activeCount;
      
      const averageProgress = activeCount > 0 ? Math.round(totalProgress / activeCount) : 0;
      document.getElementById('average-progress').textContent = averageProgress + '%';
      document.querySelector('.stat:nth-child(2) .progress span').style.width = averageProgress + '%';
      
      document.getElementById('completed-lessons').textContent = completedLessons;
      document.querySelector('.stat:nth-child(3) .progress span').style.width = 
        Math.min(100, (completedLessons / 90) * 100) + '%';
      
      const hours = Math.floor(totalStudyTime);
      const minutes = Math.round((totalStudyTime - hours) * 60);
      document.getElementById('study-time').textContent = `${hours}h ${minutes}m`;
      document.querySelector('.stat:nth-child(4) .progress span').style.width = 
        Math.min(100, (totalStudyTime / 20) * 100) + '%';
      
      if (activeCount === 0) {
        document.getElementById('emptyState').style.display = 'flex';
      } else {
        document.getElementById('emptyState').style.display = 'none';
      }
      
      updateProgressRings();
    }
    
    function createCourseCard(course) {
      const card = document.createElement('div');
      card.className = 'course-card';
      card.setAttribute('data-course-id', course.id);
      card.setAttribute('data-progress', course.progress);
      card.setAttribute('data-status', course.status);
      
      const progressOffset = 100.53 - (course.progress / 100) * 100.53;
      
      card.innerHTML = `
        <div class="course-level">${course.level}</div>
        <div class="course-difficulty" style="background: ${course.color.replace('var(--accent-', 'rgba(').replace(')', ', 0.2)')}; color: ${getDifficultyColor(course.difficulty)};">${course.difficulty}</div>
        <h4>${course.name}</h4>
        <p>${getCourseDescription(course.id)}</p>
        
        <div class="course-details">
          <div class="course-detail-item">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>${course.lessonsCompleted || 0}/${course.totalLessons || 24} aulas</span>
          </div>
          <div class="course-detail-item">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 8V12L15 15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Iniciado: ${formatDate(course.startedDate)}</span>
          </div>
        </div>
        
        <div class="course-progress">
          <div>
            <div class="label">Progresso</div>
            <div class="value">${course.progress}%</div>
          </div>
          <div class="progress-ring-container">
            <svg class="progress-ring" width="40" height="40">
              <circle class="progress-ring-bg" cx="20" cy="20" r="16" />
              <circle class="progress-ring-fill" cx="20" cy="20" r="16" stroke="${getStrokeColor(course.id)}" stroke-dasharray="100.53" stroke-dashoffset="${progressOffset}" />
            </svg>
          </div>
        </div>
        
        <div class="course-actions">
          ${course.status === 'completed' ? 
            `<button class="course-btn primary" onclick="reviewCourse('${course.id}')">Revisar</button>
             <button class="course-btn secondary" onclick="downloadCertificate('${course.id}')">Certificado</button>` :
            `<button class="course-btn primary" onclick="continueCourse('${course.id}')">Continuar</button>
             <button class="course-btn secondary" onclick="viewCourseDetails('${course.id}')">Detalhes</button>`
          }
        </div>
      `;
      
      return card;
    }
    
    function getDifficultyColor(difficulty) {
      const colors = {
        'Iniciante': '#d46a7e',
        'Elementar': '#c55a6d',
        'Intermedi√°rio': '#b8943a',
        'Intermedi√°rio Superior': '#6b7cd8',
        'Avan√ßado': '#4a5fc1',
        'Neg√≥cios': '#3a4a9e'
      };
      return colors[difficulty] || '#d46a7e';
    }
    
    function getCourseDescription(courseId) {
      const descriptions = {
        'A1': 'Introdu√ß√£o ao ingl√™s com vocabul√°rio essencial e frases simples para comunica√ß√£o b√°sica.',
        'A2': 'Expanda seu vocabul√°rio e comece a formar frases mais complexas para situa√ß√µes do dia a dia.',
        'B1': 'Comunique-se com confian√ßa em situa√ß√µes familiares, descreva experi√™ncias e expresse opini√µes.',
        'B2': 'Domine textos complexos e interaja com flu√™ncia em contextos profissionais e acad√™micos.',
        'C1': 'Expresse ideias complexas de forma fluente e precisa em qualquer contexto social ou profissional.',
        'BUSINESS': 'Comunica√ß√£o profissional, reuni√µes, apresenta√ß√µes e negocia√ß√µes em ingl√™s empresarial.',
        'C2': 'Dom√≠nio completo do idioma com compreens√£o e express√£o equivalentes a um falante nativo.'
      };
      return descriptions[courseId] || 'Curso de ingl√™s para desenvolvimento de habilidades lingu√≠sticas.';
    }
    
    function getStrokeColor(courseId) {
      const colors = {
        'A1': 'var(--accent-1)',
        'A2': '#ff8fa3',
        'B1': '#f6d365',
        'B2': '#cbd5ff',
        'C1': '#8b9dff',
        'BUSINESS': '#6a7cd8',
        'C2': '#4a5fc1'
      };
      return colors[courseId] || 'var(--accent-1)';
    }
    
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });
    }
    
    function updateProgressRings() {
      document.querySelectorAll('.progress-ring-fill').forEach(ring => {
        const length = ring.getTotalLength();
        ring.style.strokeDasharray = length;
        ring.style.strokeDashoffset = length;
        
        setTimeout(() => {
          ring.style.transition = 'stroke-dashoffset 1.2s cubic-bezier(0.4, 0, 0.2, 1)';
          const offset = ring.getAttribute('stroke-dashoffset');
          ring.style.strokeDashoffset = offset;
        }, 300);
      });
    }
    
    function continueCourse(courseId) {
      const course = getCourseInfo(courseId);
      if (course) {
        updateCourseLastAccessed(courseId);
        
        showCustomAlert('Continuar Curso', 
          `Continuando: <strong>${course.name}</strong><br><br>
          <strong>Progresso atual:</strong> ${course.progress}%<br>
          <strong>Pr√≥xima li√ß√£o:</strong> ${getNextLesson(courseId)}<br><br>
          Boa aula!`);
          
        setTimeout(() => {
          window.location.href = `course-${courseId.toLowerCase()}.html`;
        }, 1500);
      }
    }
    
    function viewCourseDetails(courseId) {
      const course = getCourseInfo(courseId);
      if (course) {
        showCustomAlert('Detalhes do Curso', 
          `<strong>${course.name}</strong><br><br>
          <strong>N√≠vel:</strong> ${course.level} (${course.difficulty})<br>
          <strong>Progresso:</strong> ${course.progress}%<br>
          <strong>Aulas conclu√≠das:</strong> ${course.lessonsCompleted}/${course.totalLessons}<br>
          <strong>Iniciado em:</strong> ${formatDateFull(course.startedDate)}<br>
          <strong>√öltimo acesso:</strong> ${formatDateFull(course.lastAccessed)}<br><br>
          <strong>Status:</strong> ${course.status === 'completed' ? '‚úÖ Conclu√≠do' : 'üìö Em andamento'}`);
      }
    }
    
    function reviewCourse(courseId) {
      showCustomAlert('Revisar Curso', 
        `Abrindo materiais de revis√£o para o curso...<br><br>
        Voc√™ pode revisar todas as li√ß√µes e exerc√≠cios do curso conclu√≠do.`);
    }
    
    function downloadCertificate(courseId) {
      showCustomAlert('Certificado', 
        `Gerando certificado para o curso...<br><br>
        Seu certificado de conclus√£o ser√° baixado em breve!`);
        
      setTimeout(() => {
        showCustomAlert('Certificado Baixado', 
          '‚úÖ Certificado baixado com sucesso!<br><br>' +
          'O arquivo foi salvo na sua pasta de downloads.');
      }, 1000);
    }
    
    function getCourseInfo(courseId) {
      const savedCourses = localStorage.getItem('ainsworth_my_courses');
      if (savedCourses) {
        const courses = JSON.parse(savedCourses);
        return courses.find(course => course.id === courseId);
      }
      return null;
    }
    
    function updateCourseLastAccessed(courseId) {
      const savedCourses = localStorage.getItem('ainsworth_my_courses');
      if (savedCourses) {
        const courses = JSON.parse(savedCourses);
        const courseIndex = courses.findIndex(course => course.id === courseId);
        
        if (courseIndex !== -1) {
          courses[courseIndex].lastAccessed = new Date().toISOString().split('T')[0];
          localStorage.setItem('ainsworth_my_courses', JSON.stringify(courses));
        }
      }
    }
    
    function getNextLesson(courseId) {
      const lessons = {
        'A1': 'Li√ß√µes 23-24: Conversa√ß√£o B√°sica',
        'A2': 'Li√ß√µes 24-26: Tempos Verbais',
        'B1': 'Li√ß√µes 24-26: Express√µes Idiom√°ticas',
        'B2': 'Li√ß√µes 18-20: Reda√ß√£o Formal',
        'C1': 'Li√ß√µes 14-16: Negocia√ß√µes Avan√ßadas',
        'BUSINESS': 'Revis√£o: Apresenta√ß√µes Executivas'
      };
      return lessons[courseId] || 'Pr√≥xima Li√ß√£o';
    }
    
    function formatDateFull(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: 'numeric' });
    }
    
    function filterCourses(filter) {
      activeFilter = filter;
      
      document.querySelectorAll('.filter-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      event.target.classList.add('active');
      
      const courses = document.querySelectorAll('.course-card');
      let visibleCount = 0;
      
      courses.forEach(course => {
        const progress = parseInt(course.getAttribute('data-progress'));
        const status = course.getAttribute('data-status');
        let showCourse = false;
        
        switch(filter) {
          case 'all':
            showCourse = progress > 0;
            break;
          case 'active':
            showCourse = progress < 100 && progress > 0;
            break;
          case 'completed':
            showCourse = progress === 100;
            break;
          case 'favorites':
            showCourse = progress > 80 && progress > 0;
            break;
          case 'recent':
            showCourse = progress > 0;
            break;
        }
        
        if (showCourse) {
          course.style.display = 'flex';
          visibleCount++;
        } else {
          course.style.display = 'none';
        }
      });
      
      const emptyState = document.getElementById('emptyState');
      if (visibleCount === 0) {
        emptyState.style.display = 'flex';
      } else {
        emptyState.style.display = 'none';
      }
    }
    
    function setupSearch() {
      const searchInput = document.getElementById('searchInput');
      
      searchInput.addEventListener('input', function() {
        searchCourses(this.value);
      });
      
      searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          searchCourses(this.value);
        }
      });
    }
    
    function searchCourses(query = '') {
      const searchTerm = query.toLowerCase().trim();
      const courses = document.querySelectorAll('.course-card');
      let visibleCount = 0;
      
      courses.forEach(course => {
        const courseName = course.querySelector('h4').textContent.toLowerCase();
        const courseDescription = course.querySelector('p').textContent.toLowerCase();
        const courseLevel = course.querySelector('.course-level').textContent.toLowerCase();
        const courseDifficulty = course.querySelector('.course-difficulty').textContent.toLowerCase();
        
        const matches = searchTerm === '' || 
          courseName.includes(searchTerm) ||
          courseDescription.includes(searchTerm) ||
          courseLevel.includes(searchTerm) ||
          courseDifficulty.includes(searchTerm);
        
        const progress = parseInt(course.getAttribute('data-progress'));
        const status = course.getAttribute('data-status');
        let passesFilter = true;
        
        switch(activeFilter) {
          case 'all':
            passesFilter = progress > 0;
            break;
          case 'active':
            passesFilter = progress < 100 && progress > 0;
            break;
          case 'completed':
            passesFilter = progress === 100;
            break;
          case 'favorites':
            passesFilter = progress > 80 && progress > 0;
            break;
          case 'recent':
            passesFilter = progress > 0;
            break;
        }
        
        if (matches && passesFilter) {
          course.style.display = 'flex';
          visibleCount++;
        } else {
          course.style.display = 'none';
        }
      });
      
      const emptyState = document.getElementById('emptyState');
      if (visibleCount === 0) {
        emptyState.style.display = 'flex';
        if (searchTerm) {
          emptyState.querySelector('h4').textContent = 'Nenhum curso encontrado';
          emptyState.querySelector('p').textContent = `N√£o encontramos cursos correspondentes a "${query}". Tente outros termos de busca.`;
        }
      } else {
        emptyState.style.display = 'none';
      }
    }
    
    function openMobileNav() {
      document.getElementById('mobileNav').classList.add('active');
      document.getElementById('mobileNavOverlay').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeMobileNav() {
      document.getElementById('mobileNav').classList.remove('active');
      document.getElementById('mobileNavOverlay').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    function openExternalResource(url) {
      window.open(url, '_blank');
    }
    
    function openMessages() {
      showCustomAlert('Mensagens', 
        'Esta funcionalidade estar√° dispon√≠vel em breve!<br><br>' +
        'Enquanto isso, voc√™ pode verificar suas mensagens importantes no email cadastrado.');
    }
    
    function openProfile() {
      showCustomAlert('Perfil', 
        'Esta funcionalidade estar√° dispon√≠vel em breve!<br><br>' +
        'Para editar seu perfil, acesse a p√°gina de Configura√ß√µes.');
    }
    
    function openSettings() {
      showCustomAlert('Configura√ß√µes', 
        'Esta funcionalidade estar√° dispon√≠vel em breve!<br><br>' +
        'Por enquanto, voc√™ pode ajustar algumas configura√ß√µes b√°sicas no menu do usu√°rio.');
    }
    
    function logout() {
      showCustomAlert('Saindo...', 
        'Voc√™ foi desconectado com sucesso.<br><br>' +
        '<strong>Lembrete:</strong> Seus dados est√£o armazenados localmente.<br>' +
        'Use o mesmo navegador para manter seu progresso.');
      
      setTimeout(() => {
        window.location.href = 'login.html';
      }, 2000);
    }
    
    function setupCustomPopup() {
      document.getElementById('popupConfirm').addEventListener('click', () => {
        if (popupCallback) {
          popupCallback();
        }
        closeCustomPopup();
      });
      
      document.getElementById('popupCancel').addEventListener('click', closeCustomPopup);
      
      document.getElementById('customPopup').addEventListener('click', (e) => {
        if (e.target === document.getElementById('customPopup')) {
          closeCustomPopup();
        }
      });
    }
    
    function showCustomAlert(title, message) {
      document.getElementById('popupTitle').textContent = title;
      document.getElementById('popupMessage').innerHTML = message;
      document.getElementById('popupConfirm').style.display = 'none';
      document.getElementById('popupCancel').textContent = 'OK';
      
      const popup = document.getElementById('customPopup');
      popup.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      setTimeout(() => {
        if (popup.classList.contains('active')) {
          closeCustomPopup();
        }
      }, 5000);
    }
    
    function showCustomConfirm(title, message, callback) {
      document.getElementById('popupTitle').textContent = title;
      document.getElementById('popupMessage').textContent = message;
      document.getElementById('popupConfirm').style.display = 'block';
      document.getElementById('popupConfirm').textContent = 'Sim';
      document.getElementById('popupCancel').textContent = 'N√£o';
      popupCallback = callback;
      
      document.getElementById('customPopup').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeCustomPopup() {
      document.getElementById('customPopup').classList.remove('active');
      document.body.style.overflow = '';
      popupCallback = null;
      
      document.getElementById('popupConfirm').style.display = 'block';
      document.getElementById('popupConfirm').textContent = 'Confirmar';
      document.getElementById('popupCancel').textContent = 'Cancelar';
    }
    
    function toggleUserMenu(){
      const menu = document.getElementById('userMenu');
      const btn = document.getElementById('userToggle');
      if(!menu) return;
      const isOpen = menu.style.display === 'flex';
      menu.style.display = isOpen ? 'none' : 'flex';
      btn.setAttribute('aria-expanded', String(!isOpen));
    }

    document.addEventListener('click', (e) => {
      const menu = document.getElementById('userMenu');
      const toggle = document.getElementById('userToggle');
      if(!menu || !toggle) return;
      if(!toggle.contains(e.target) && !menu.contains(e.target)){
        menu.style.display = 'none';
        toggle.setAttribute('aria-expanded','false');
      }
    });

    document.getElementById('mobileNavOverlay').addEventListener('click', closeMobileNav);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeMobileNav();
        
        const menu = document.getElementById('userMenu');
        if(menu && menu.style.display === 'flex') {
          menu.style.display = 'none';
          document.getElementById('userToggle').setAttribute('aria-expanded', 'false');
        }
        
        const popup = document.getElementById('customPopup');
        if(popup.classList.contains('active')) {
          closeCustomPopup();
        }
      }
    });

    document.querySelectorAll('.course-card, .stat, .filter-tab').forEach(item => {
      item.addEventListener('mouseenter', function() {
        this.style.transition = 'all 0.3s ease';
      });
    });

  </script>

</body>
</html>
